<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Manga4U — Адмін-панель / Користувачі</title>

  <!-- Твій базовий стиль (шапка, фон, типографіка) -->
  <link rel="stylesheet" href="./css/main.css">
  <!-- Стилі саме адмін-панелі -->
  <link rel="stylesheet" href="./css/admin.css">
</head>
<body class="page">

<header class="header">
  <div class="header__bar">
    <a class="logo" href="./index.html">
      <span class="logo__badge">M4U</span>
      <span class="logo__word">Manga4U</span>
    </a>

    <nav class="nav" aria-label="Основна навігація">
      <a class="navbtn" href="./index.html">
        <svg class="navbtn__ic" viewBox="0 0 24 24" aria-hidden="true">
          <circle cx="11" cy="11" r="6.5" fill="none" stroke="currentColor" stroke-width="1.6"/>
          <path d="M16.5 16.5L21 21" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
        </svg>
        <span class="navbtn__tx">Головна</span>
      </a>

      <a class="navbtn" href="./search.html">
        <svg class="navbtn__ic" viewBox="0 0 24 24" aria-hidden="true">
          <circle cx="11" cy="11" r="6.5" fill="none" stroke="currentColor" stroke-width="1.6"/>
          <path d="M16.5 16.5L21 21" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
        </svg>
        <span class="navbtn__tx">Пошук</span>
      </a>

      <!-- guard-required: для гостей заблокируем и поведём на auth.html -->
      <a class="navbtn guard-required" href="./favorites.html" data-guard="favorites">
        <svg class="navbtn__ic" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 20s-7.5-4.7-9.2-8.4C1.7 9.1 3.1 6.5 6 6.2c1.7-.2 3.2.7 4 2 0 0 .8-2.1 3.7-2 2.9.1 4.7 2.8 3.5 5.4C15.7 16 12 20 12 20z"
                fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"/>
        </svg>
        <span class="navbtn__tx">Улюблені</span>
      </a>

      <a class="navbtn guard-required" href="./collections.html" data-guard="collections">
        <svg class="navbtn__ic" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 3l8 4.5v9L12 21l-8-4.5v-9L12 3z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"/>
          <path d="M12 12l8-4.5M12 12l-8-4.5M12 12v9" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linejoin="round"/>
        </svg>
        <span class="navbtn__tx">Колекції</span>
      </a>

      <!-- Когда пользователь гость — показываем "Увійти" -->
      <a id="loginLink" class="navbtn navbtn--accent" href="./auth.html?next=./index.html" hidden>
        <svg class="navbtn__ic" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M10 7h8v10h-8M13 12H3" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="navbtn__tx">Увійти</span>
      </a>

      <!-- Когда пользователь внутри — показываем Кабінет + меню -->
      <div class="profile" id="profileBlock" hidden>
        <button class="navbtn profile__btn" id="profileBtn" aria-expanded="false" aria-controls="profileMenu">
          <svg class="navbtn__ic" viewBox="0 0 24 24" aria-hidden="true">
            <circle cx="12" cy="8" r="3.5" fill="none" stroke="currentColor" stroke-width="1.6"/>
            <path d="M5 19c1.5-3 4-4.5 7-4.5S17.5 16 19 19" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
          <span class="navbtn__tx"><span id="profileName">Кабінет</span></span>
          <span id="roleBadge" class="role-badge" hidden></span>
        </button>
        <div class="profile__menu" id="profileMenu" hidden>
          <a href="./profile.html" class="profile__item">Редагувати профіль</a>
          <a href="./admin-users.html" class="profile__item profile__item--admin" hidden>Панель адміністратора</a>
          <hr class="profile__sep">
          <button class="profile__item" id="logoutBtn" type="button">Вийти</button>
        </div>
      </div>
    </nav>

    <!-- Burger -->
    <button class="burger" aria-label="Меню" aria-controls="mobileMenu" aria-expanded="false">
      <span class="burger__line"></span>
    </button>
  </div>
</header>

<!-- Mobile off-canvas -->
<aside id="mobileMenu" class="mobileMenu" aria-hidden="true">
  <nav class="mobileMenu__nav">
    <a class="mobileMenu__link" href="./index.html">Головна</a>
    <a class="mobileMenu__link" href="./search.html">Пошук</a>
    <a class="mobileMenu__link guard-required" href="./favorites.html" data-guard="favorites">Улюблені</a>
    <a class="mobileMenu__link guard-required" href="./collections.html" data-guard="collections">Колекції</a>
    <a class="mobileMenu__link" href="./profile.html" data-auth-only hidden id="mobileProfileLink">Кабінет</a>
    <a class="mobileMenu__link mobileMenu__link--admin" href="./admin-users.html" hidden>Панель адміністратора</a>
    <a class="mobileMenu__link" href="./auth.html?next=./index.html" id="mobileLoginLink">Увійти</a>
    <button class="mobileMenu__link" id="mobileLogoutBtn" type="button" hidden>Вийти</button>
  </nav>
</aside>
<div class="mobileMenu__backdrop" hidden></div>

  <!-- BG handwriting -->
  <svg class="bg-script" viewBox="0 0 1600 900" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
    <defs><filter id="soft-glow"><feGaussianBlur stdDeviation="2" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs>
    <text x="50%" y="55%" text-anchor="middle" class="bg-script__text">Manga4U</text>
  </svg>

  <main class="main">
    <section class="section">
      <div class="section__header">
        <h2 class="section__title">Адмін-панель — Користувачі</h2>
      </div>

      <div class="adminToolbar">
        <div class="admSearch">
          <svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="7" fill="none" stroke="currentColor" stroke-width="1.6"/><path d="M16.5 16.5L21 21" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg>
          <input id="q" type="search" placeholder="Пошук за ніком, логіном..." />
        </div>
        <div class="admFilters">
          <select id="roleSel">
            <option value="">Роль: всі</option>
            <option value="user">Користувач</option>
            <option value="admin">Адмін</option>
          </select>
          <select id="statusSel">
            <option value="">Статус: всі</option>
            <option value="active">Активний</option>
            <option value="muted">Замучений</option>
            <option value="banned">Забанений</option>
          </select>
        </div>
      </div>

      <div id="adminAlert" class="adminAlert" hidden>
        У вас немає прав доступу до адмін-панелі.
      </div>

      <div id="usersCard" class="usersCard">
        <div class="usersHead">
          <div class="col col--nick">Користувач</div>
          <div class="col col--email">Логін</div>
          <div class="col col--role">Роль</div>
          <div class="col col--status">Статус</div>
          <div class="col col--actions">Дії</div>
        </div>
        <div id="usersBody" class="usersBody"></div>
        <div class="pager" id="pager"></div>
      </div>
    </section>
  </main>

  <footer class="footer">© 2025 Manga4U</footer>

  <!-- Modal confirm -->
  <div id="modal" class="modal" hidden>
    <div class="modal__card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h3 id="modalTitle" class="modal__title">Підтвердження</h3>
      <p id="modalText" class="modal__text"></p>
      <div class="modal__actions">
        <button id="modalOk" class="btn btn--primary" type="button">Підтвердити</button>
        <button id="modalCancel" class="btn ghostBtn" type="button">Скасувати</button>
      </div>
    </div>
  </div>

  <!-- Toasts -->
  <div id="toasts" class="toasts"></div>

  <!-- Гарантуємо роль адміністратора для тесту -->
  <script>window.currentUser = { role: 'admin', name: 'Test Admin' };</script>

<!-- ... голова/шапка/разметка страницы остаются как у тебя ... -->

<!-- Toasts + модалка уже есть в разметке (как раньше) -->

  <!-- === FRONTEND: API + AUTH + CONFIRM/TOASTS + ADMIN APP === -->
  <!-- ===== Admin Panel Scripts ===== -->
  <script src="./js/api.client.js"></script>
  <script src="./js/header.init.js"></script>
  <script src="./js/users.store.js"></script>
  <script src="./js/admin.confirm.js"></script>
  <script src="./js/admin.app.server.js"></script>
  <script src="./js/admin.app.js"></script>

        <!-- UI логіка, відображення, кнопки -->
</body>
</html>
