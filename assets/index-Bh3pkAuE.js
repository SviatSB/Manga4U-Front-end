import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css             */import"./api.client-Cwoejsn1.js";import{M as i}from"./main-FYAW3UC_.js";function f(t){if(!t)return null;if(typeof t=="string")return t;const n=Object.keys(t);for(const e of["en","en-us","en-gb"])if(t[e])return t[e];return t[n[0]]}async function m(t,n){n.innerHTML="";for(const e of t){const a=e.id,u=e.attributes||{},p=f(u.title)||"Без назви",r=document.createElement("a");r.href=`/manga.html?id=${encodeURIComponent(a)}`,r.className="card";const c=document.createElement("div");c.className="card__stub";const s=document.createElement("div");s.className="card__title",s.textContent=p,r.append(c,s),n.append(r);const d=(e.relationships||[]).find(o=>o.type==="cover_art");d?.id&&i.callProxy(`/cover/${d.id}`).then(o=>{const l=(o?.data||o)?.attributes?.fileName;l&&(c.style.backgroundImage=`url("https://uploads.mangadex.org/covers/${a}/${l}")`)}).catch(()=>{})}}async function g(){const t=document.getElementById("newGrid"),n=document.getElementById("popularGrid");if(!(!t||!n))try{const e=await i.getNewReleases(1,4);await m(e.data||[],t);const a=await i.getPopular(1,4);await m(a.data||[],n)}catch(e){console.error("Home load error:",e)}}g();
